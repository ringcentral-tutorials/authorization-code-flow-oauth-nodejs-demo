<!DOCTYPE html><html><head><title>RingCentral Authorization Code Flow OAuth - Node JS- RingCentral Developer Tutorials</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="72x72" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="apple-touch-icon" sizes="114x114" href="https://developers.ringcentral.com/assets/images/favicon.ico?v=20161209-1544"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/jquery-ui@1.12.1/themes/base/all.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div class="dpw-header-container"><div class="dpw-header center-section"><div class="logo"><a href="https://developers.ringcentral.com" class="logo-link"></a></div><div class="nav-top-menus"></div><div class="dpw-login-section"><a href="https://developer.ringcentral.com/login.html#/">Sign in | Sign up</a></div></div></div><div id="viewsaurus" data-title="RingCentral Authorization Code Flow OAuth - Node JS"><div class="saurus-panes"><div class="saurus-panes-header"><a href="https://ringcentral.github.io/tutorials/" class="saurus-back-to-tutorials">Tutorials</a><span>&gt;</span><span>RingCentral Authorization Code Flow OAuth - Node JS</span></div><div class="saurus-prose"><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw icon-menu"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>In this step-by-step tutorial, you are going to learn how to authorize a user to login RingCentral platform using the authorization code flow. Click the &quot;Start&quot; button below to start the tutorial.</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="RingCentral Platform Authentication - Authorization Code Flow OAuth" class="chapter"><div data-title="Clone and Setup the project" data-file="../README.md" data-highlight="9-17" class="step"><h3 id="clone-and-setup-the-project">Clone and Setup the project</h3>
<p>Clone the project from GitHub and install RingCentral Node JS SDK and dependencies.</p>
</div><div data-title="Create a RingCentral app" data-file="../README.md" data-highlight="23-33" class="step"><h3>Create a RingCentral app</h3><p>The first thing we need to do is create an app in the RingCentral Developer Portal.</p><p>If you don't know how to create a RingCentral app. Click <a href="https://developer.ringcentral.com/library/getting-started.html">here</a> for instructions.</p></div><div data-title="Set Environment Variables" data-file="../environment/dotenv-sandbox" class="step"><h3 id="set-environment-variables">Set Environment Variables</h3>
<p>Copy the Client id and Client secret and add them to the <code>.env-sandbox</code> file.</p>
<pre><code>RC_CLIENT_ID=
RC_CLIENT_SECRET=
</code></pre><p>If you want to specify variables for your production environment, repeat this step for the <code>.env-production</code> file.</p>
</div><div data-title="Set up the Express Web server" data-file="../index.js" data-highlight="1-9" class="step"><h3 id="set-up-the-express-web-server">Set up the Express Web server</h3>
<p>We load the <code>path</code>, <code>express</code> and <code>express-session</code> modules.</p>
<p>The purpose of having the <code>session</code> is for keeping the access token info after we successfully login RingCentral platform.</p>
<p>We run the local server on port 5000. If this port is not available on your system, feel free to choose another port number.</p>
<p>To keep the codes simple, we&#39;ll use very minimum functions from the Express Web application framework.</p>
</div><div data-title="Load the RingCentral Node JS SDK" data-file="../index.js" data-highlight="11-12" class="step"><h3 id="load-ringcentral-node-js-sdk">Load RingCentral Node JS SDK</h3>
<p>Using a RingCentral SDK is the most convenient way to authenticate and access RingCentral platform services.</p>
<p>We define a global <code>rcsdk</code> variable and assign the instance of the RingCentral SDK in a while.</p>
</div><div data-title="Implement the main page" data-file="../views/index.ejs" data-highlight="1-21" class="step"><h3 id="implement-the-main-page">Implement the main page</h3>
<p>We create a main page with login options to login a production account or a sandbox account.</p>
</div><div data-title="Implement the root route" data-file="../index.js" data-highlight="14-19" class="step"><h3 id="implement-the-root-route">Implement the root <code>/</code> route</h3>
<p>Within the root <code>/</code> route, we launch the main page.</p>
<p>Within the <code>index</code> route, we reroute to the root then from there we launch the main page.</p>
</div><div data-title="Implement the login route" data-file="../index.js" data-highlight="21-41" class="step"><h3 id="implement-the-login-route">Implement the <code>login</code> route</h3>
<p>First, we check the <code>query.env</code> parameter to identify which environment was selected and load our app credentials accordingly.</p>
<p>Then, we create an instance of the SDK, passing the app credentials and assign to the global variable <code>rcsdk</code>.</p>
<p>Next, we get the <code>platform</code> instance from the SDK and call the <code>platform.authUrl()</code> function to generate the <code>authorize_uri</code>.</p>
<p>Finally, we load the login page, passing the <code>authorize_uri</code> and the <code>redirect_uri</code> as shown on the code.</p>
</div><div data-title="Implement the login page" data-file="../views/login.ejs" data-highlight="1-38" class="step"><h3 id="implement-the-login-page">Implement the login page</h3>
<p>We create an empty page and implement JavaScript codes to launch the pop-up RingCentral login window.</p>
<p>After login successfully, we will close the popup window and launch the test page.</p>
</div><div data-title="Implement the oauth2callback route" data-file="../index.js" data-highlight="43-60" class="step"><h3 id="implement-the-oauth2callback-route">Implement the <code>oauth2callback</code> route</h3>
<p>We specified the redirect Uri as <code>http://localhost:5000/oauth2callback</code> in our app and we passed the
<code>redirect_uri</code> in the authentication query. If the redirect Uris match, RingCentral will send a request
with the code to this route.</p>
<p>We get the <code>req.query.code</code> and use the <code>platform.login()</code> function to login as shown on the codes beside.</p>
<p>If we login successfully, we will save the token info from <code>token.json()</code> to a session and send a &quot;login success&quot; message to the caller.</p>
</div><div data-title="Implement the test page" data-file="../views/test.ejs" data-highlight="1-16" class="step"><h3 id="implement-the-test-page">Implement the test page</h3>
<p>We add a few test cases and the logout option to the test page.</p>
</div><div data-title="Implement the test route" data-file="../index.js" data-highlight="81-112" class="step"><h3 id="implement-the-test-route">Implement the <code>test</code> route</h3>
<p>We check the existence of the <code>session.tokens</code>. If the <code>session.tokens</code> exists, we read the tokens from the session and use the <code>platform</code> to check if we are still logged in or not.</p>
<ul>
<li><p>If the <code>session.tokens</code> does not exist or if we are no longer logged in (access token and refresh token expired), we will redirect to the main page to force the user login again.</p>
</li>
<li><p>If we are still logged in, we detect the api value and call a RingCentral platform API accordingly.</p>
</li>
</ul>
</div><div data-title="Implement the logout route" data-file="../index.js" data-highlight="62-79" class="step"><h3 id="implement-the-logout-route">Implement the <code>logout</code> route</h3>
<p>First, we check the existence of the <code>session.tokens</code>. If the <code>session.tokens</code> exists, we read the tokens from the session and use the <code>platform</code> to check if we are still logged in or not.</p>
<p>If we are still logged in, we call the <code>platform.logout()</code> function to logout and reset the <code>session.tokens</code>.</p>
<p>Finally, we redirect to the main page to allow the user login again.</p>
</div><div data-title="Run the demo app" data-file="../README.md" data-highlight="49-53" class="step"><h3 id="run-the-demo-app">Run the demo app</h3>
<pre><code>$ node index.js
</code></pre><p>On a Web browser, enter <code>localhost:5000</code> then choose to login your production or sandbox account.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="../README.md" data-mode="markdown">IyBSaW5nQ2VudHJhbCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyBPQXV0aCBpbiBOb2RlLmpzIHdpdGggRXhwcmVzcyBXZWIgZnJhbWV3b3JrCgojIyBPdmVydmlldwoKVGhlIE9BdXRoIDIuMCBhdXRob3JpemF0aW9uIGNvZGUgZmxvdyAoYWthIDMtbGVnZ2VkIE9BdXRoKSBwcm90ZWN0cyB1c2VycyBpbmZvcm1hdGlvbiBhbmQgbGV0cyB0aGVtIGNvbnRyb2wgd2hhdCB0aGV5IHNoYXJlIHdpdGggeW91ciBhcHAuIFlvdSBhcmUgcmVxdWlyZWQgdG8gdXNlIHRoaXMgZmxvdyBpZiB5b3VyIGFwcCBpcyBhIHdlYiBhcHAgYW5kIHdpbGwgYmUgdXNlZCBieSBtb3JlIHRoYW4gb25lIHVzZXIuCgojIyMgQ2xvbmUgYW5kIFNldHVwIHRoZSBwcm9qZWN0CmBgYAokIGdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vcmluZ2NlbnRyYWwtdHV0b3JpYWxzL2F1dGhvcml6YXRpb24tY29kZS1mbG93LW9hdXRoLW5vZGVqcy1kZW1vCgokIGNkIGF1dGhvcml6YXRpb24tY29kZS1mbG93LW9hdXRoLW5vZGVqcy1kZW1vCgokIG5wbSBpbnN0YWxsIC0tc2F2ZQoKJCBjcCBlbnZpcm9ubWVudC9kb3RlbnYtc2FuZGJveCBlbnZpcm9ubWVudC8uZW52LXNhbmRib3gKCiQgY3AgZW52aXJvbm1lbnQvZG90ZW52LXByb2R1Y3Rpb24gZW52aXJvbm1lbnQvLmVudi1wcm9kdWN0aW9uCgpgYGAKCiMjIyBDcmVhdGUgYW4gYXBwCgoqIENyZWF0ZSBhbiBhcHBsaWNhdGlvbiBhdCBbUmluZ0NlbnRyYWwgRGV2ZWxvcGVyIFBvcnRhbF0oaHR0cHM6Ly9kZXZlbG9wZXIucmluZ2NlbnRyYWwuY29tKS4KKiBTZWxlY3QgYFNlcnZlci9XZWJgIGZvciB0aGUgUGxhdGZvcm0gdHlwZS4KKiBBZGQgdGhlIGBSZWFkQWNjb3VudHNgLCBgUmVhZENhbGxMb2dgIHBlcm1pc3Npb25zIGZvciB0aGUgYXBwLgoqIFNwZWNpZnkgdGhlIHJlZGlyZWN0IFVyaSBhcyBgaHR0cDovL2xvY2FsaG9zdDo1MDAwL29hdXRoMmNhbGxiYWNrYAoqIENvcHkgdGhlIENsaWVudCBpZCBhbmQgQ2xpZW50IHNlY3JldCBhbmQgYWRkIHRoZW0gdG8gdGhlIGAuZW52LVtlbnZpcm9ubWVudF1gIGZpbGUuCmBgYApSQ19DTElFTlRfSUQ9ClJDX0NMSUVOVF9TRUNSRVQ9CmBgYAoKSWYgeW91IGRvbid0IGtub3cgaG93IHRvIGNyZWF0ZSBhIFJpbmdDZW50cmFsIGFwcC4gQ2xpY2sgW2h0dHBzOi8vZGV2ZWxvcGVyLnJpbmdjZW50cmFsLmNvbS9saWJyYXJ5L2dldHRpbmctc3RhcnRlZC5odG1sXShoZXJlKSBmb3IgaW5zdHJ1Y3Rpb25zLgoKIyMjIFJ1biB0aGUgZGVtbwoKYGBgCiQgbm9kZSBpbmRleC5qcwpgYGAKCk9uIGEgV2ViIGJyb3dzZXIsIGVudGVyIGBsb2NhbGhvc3Q6NTAwMGAgdGhlbiBjaG9vc2UgdG8gbG9naW4geW91ciBwcm9kdWN0aW9uIG9yIHNhbmRib3ggYWNjb3VudC4KCiMjIyBSaW5nQ2VudHJhbCBEZXZlbG9wZXIgUG9ydGFsClRvIHNldHVwIGEgZnJlZSBkZXZlbG9wZXIgYWNjb3VudCwgY2xpY2sgW2hlcmVdKGh0dHBzOi8vZGV2ZWxvcGVyL3JpbmdjZW50cmFsLmNvbSkKCiMjIFJpbmdDZW50cmFsIE5vZGUgSlMgU0RLClRoZSBTREsgaXMgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9yaW5nY2VudHJhbC9yaW5nY2VudHJhbC1qcwo=</textarea>
<textarea class="saurus-file" data-file="../environment/dotenv-sandbox" data-mode="text">UkNfU0VSVkVSX1VSTD1odHRwczovL3BsYXRmb3JtLmRldnRlc3QucmluZ2NlbnRyYWwuY29tClJDX1JFRElSRUNUX1VSTD1odHRwOi8vbG9jYWxob3N0OjUwMDAvb2F1dGgyY2FsbGJhY2sKUkNfQ0xJRU5UX0lEPQpSQ19DTElFTlRfU0VDUkVUPQo=</textarea>
<textarea class="saurus-file" data-file="../index.js" data-mode="javascript">dmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJykKdmFyIGFwcCA9IHJlcXVpcmUoJ2V4cHJlc3MnKSgpOwoKYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAndmlld3MnKSkKYXBwLnNldCgndmlldyBlbmdpbmUnLCAnZWpzJykKdmFyIHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKTsKYXBwLnVzZShzZXNzaW9uKHsgc2VjcmV0OiAndGhpcy1pcy1hLXNlY3JldC10b2tlbicsIHRva2VuczogJyd9KSk7CmNvbnN0IHBvcnQgPSA1MDAwCmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gY29uc29sZS5sb2coJ0xpc3RlbmluZyBvbiBwb3J0ICcgKyBwb3J0KSk7Cgp2YXIgcmluZ2NlbnRyYWwgPSByZXF1aXJlKCdyaW5nY2VudHJhbCcpOwp2YXIgcmNzZGsgPSBudWxsCgphcHAuZ2V0KCcvJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7CiAgICByZXMucmVuZGVyKCdpbmRleCcpCn0pCmFwcC5nZXQoJy9pbmRleCcsIGZ1bmN0aW9uIChyZXEsIHJlcykgewogICAgcmVzLnJlZGlyZWN0KCcvJykKfSk7CgphcHAuZ2V0KCcvbG9naW4nLCBmdW5jdGlvbiAocmVxLCByZXMpIHsKICAgIGlmIChyZXEucXVlcnkuZW52ID09ICJzYW5kYm94IikgewogICAgICAgIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZyh7cGF0aDogIi4vZW52aXJvbm1lbnQvLmVudi1zYW5kYm94In0pCiAgICB9IGVsc2UgewogICAgICAgIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZyh7cGF0aDogIi4vZW52aXJvbm1lbnQvLmVudi1wcm9kdWN0aW9uIn0pCiAgICB9CiAgICByY3NkayA9IG5ldyByaW5nY2VudHJhbCh7CiAgICAgIHNlcnZlcjogcHJvY2Vzcy5lbnYuUkNfU0VSVkVSX1VSTCwKICAgICAgYXBwS2V5OiBwcm9jZXNzLmVudi5SQ19DTElFTlRfSUQsCiAgICAgIGFwcFNlY3JldDogcHJvY2Vzcy5lbnYuUkNfQ0xJRU5UX1NFQ1JFVAogICAgfSk7CiAgICB2YXIgcGxhdGZvcm0gPSByY3Nkay5wbGF0Zm9ybSgpCiAgICB2YXIgYXV0aG9yaXplX3VyaSA9IHBsYXRmb3JtLmF1dGhVcmwoewogICAgICAgIGJyYW5kSWQ6ICcnLAogICAgICAgIHJlZGlyZWN0VXJpOiBwcm9jZXNzLmVudi5SQ19SRURJUkVDVF9VUkwKICAgICAgICB9KTsKICAgIHJlcy5yZW5kZXIoJ2xvZ2luJywgewogICAgICAgIGF1dGhvcml6ZV91cmk6IGF1dGhvcml6ZV91cmksCiAgICAgICAgcmVkaXJlY3RfdXJpOiBwcm9jZXNzLmVudi5SQ19SRURJUkVDVF9VUkwKICAgICAgICB9KTsKfSkKCmFwcC5nZXQoJy9vYXV0aDJjYWxsYmFjaycsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7CiAgaWYgKHJlcS5xdWVyeS5jb2RlKSB7CiAgICAgIHZhciBwbGF0Zm9ybSA9IHJjc2RrLnBsYXRmb3JtKCkKICAgICAgcGxhdGZvcm0ubG9naW4oewogICAgICAgICAgY29kZTogcmVxLnF1ZXJ5LmNvZGUsCiAgICAgICAgICByZWRpcmVjdFVyaTogcHJvY2Vzcy5lbnYuUkNfUkVESVJFQ1RfVVJMCiAgICAgIH0pCiAgICAgIC50aGVuKGZ1bmN0aW9uICh0b2tlbikgewogICAgICAgICAgcmVxLnNlc3Npb24udG9rZW5zID0gdG9rZW4uanNvbigpCiAgICAgICAgICByZXMuc2VuZCgnbG9naW4gc3VjY2VzcycpOwogICAgICB9KQogICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJlcy5zZW5kKCdMb2dpbiBlcnJvciAnICsgZSk7CiAgICAgIH0pOwogIH1lbHNlIHsKICAgICAgcmVzLnNlbmQoJ05vIEF1dGggY29kZScpOwogIH0KfSk7CgphcHAuZ2V0KCcvbG9nb3V0JywgZnVuY3Rpb24ocmVxLCByZXMpIHsKICBpZiAocmVxLnNlc3Npb24udG9rZW5zICE9IHVuZGVmaW5lZCl7CiAgICAgIHZhciB0b2tlbnNPYmogPSByZXEuc2Vzc2lvbi50b2tlbnMKICAgICAgdmFyIHBsYXRmb3JtID0gcmNzZGsucGxhdGZvcm0oKQogICAgICBwbGF0Zm9ybS5hdXRoKCkuc2V0RGF0YSh0b2tlbnNPYmopCiAgICAgIGlmIChwbGF0Zm9ybS5sb2dnZWRJbigpKXsKICAgICAgICAgIHBsYXRmb3JtLmxvZ291dCgpCiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwKXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygibG9nZ2VkIG91dCIpCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICB9KTsKICAgICAgfQogICAgICByZXEuc2Vzc2lvbi50b2tlbnMgPSBudWxsCiAgfQogIHJlcy5yZWRpcmVjdCgiLyIpCn0pOwoKYXBwLmdldCgnL3Rlc3QnLCBmdW5jdGlvbihyZXEsIHJlcykgewogIGlmIChyZXEuc2Vzc2lvbi50b2tlbnMgIT0gdW5kZWZpbmVkKXsKICAgICAgdmFyIHRva2Vuc09iaiA9IHJlcS5zZXNzaW9uLnRva2VucwogICAgICB2YXIgcGxhdGZvcm0gPSByY3Nkay5wbGF0Zm9ybSgpCiAgICAgIHBsYXRmb3JtLmF1dGgoKS5zZXREYXRhKHRva2Vuc09iaikKICAgICAgaWYgKHBsYXRmb3JtLmxvZ2dlZEluKCkpewogICAgICAgICAgaWYgKHJlcS5xdWVyeS5hcGkgPT0gImV4dGVuc2lvbiIpewogICAgICAgICAgICB2YXIgZW5kcG9pbnQgPSAiL3Jlc3RhcGkvdjEuMC9hY2NvdW50L34vZXh0ZW5zaW9uIjsKICAgICAgICAgICAgcmV0dXJuIGNhbGxHZXRNZXRob2QocGxhdGZvcm0sIGVuZHBvaW50LCByZXMpCiAgICAgICAgICB9ZWxzZSBpZiAocmVxLnF1ZXJ5LmFwaSA9PSAiZXh0ZW5zaW9uLWNhbGwtbG9nIil7CiAgICAgICAgICAgIHZhciBlbmRwb2ludCA9ICIvcmVzdGFwaS92MS4wL2FjY291bnQvfi9leHRlbnNpb24vfi9jYWxsLWxvZyI7CiAgICAgICAgICAgIHJldHVybiBjYWxsR2V0TWV0aG9kKHBsYXRmb3JtLCBlbmRwb2ludCwgcmVzKQogICAgICAgICAgfWlmIChyZXEucXVlcnkuYXBpID09ICJhY2NvdW50LWNhbGwtbG9nIil7CiAgICAgICAgICAgIHZhciBlbmRwb2ludCA9ICIvcmVzdGFwaS92MS4wL2FjY291bnQvfi9jYWxsLWxvZyI7CiAgICAgICAgICAgIHJldHVybiBjYWxsR2V0TWV0aG9kKHBsYXRmb3JtLCBlbmRwb2ludCwgcmVzKQogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICByZXR1cm4gcmVzLnJlbmRlcigndGVzdCcpCiAgICAgICAgICB9CiAgICAgIH0KICB9CiAgcmVzLnJlZGlyZWN0KCIvIikKfSk7CgpmdW5jdGlvbiBjYWxsR2V0TWV0aG9kKHBsYXRmb3JtLCBlbmRwb2ludCwgcmVzKXsKICAgIHBsYXRmb3JtLmdldChlbmRwb2ludCkKICAgIC50aGVuKGZ1bmN0aW9uKHJlc3ApewogICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3AuanNvbigpKSkKICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24oZSl7CiAgICAgICAgcmVzLnNlbmQoIkVycm9yIikKICAgIH0pCn0K</textarea>
<textarea class="saurus-file" data-file="../views/index.ejs" data-mode="ejs">PCFET0NUWVBFIGh0bWw+CjxodG1sPgogICAgPGhlYWQ+CiAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgICAgIDx0aXRsZT5SaW5nQ2VudHJhbCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyBBdXRoZW50aWNhdGlvbjwvdGl0bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keT4KICAgICAgICA8ZGl2IGFsaWduPSJqdXN0aWZ5Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9IndpZHRoOjUwMHB4Ij4KICAgICAgICAgICAgPHA+CiAgICAgICAgICAgICAgPGI+SW1wb3J0YW50ITwvYj4gWW91IG5lZWQgdG8gZW5hYmxlIHBvcC11cCBmb3IgdGhpcyB3ZWIgc2l0ZSBpbiBvcmRlciB0byBsb2dpbiB5b3VyIFJpbmdDZW50cmFsIHZpYSB0aGlzIFdlYiBhcHAuPC9icj4KICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8aDM+Q2hvb3NlIHlvdXIgUmluZ0NlbnRyYWwgQWNjb3VudCBFbnZpcm9ubWVudDwvaDM+CiAgICAgICAgICA8ZGl2PgogICAgICAgICAgICA8YSBocmVmPSIvbG9naW4/ZW52PXByb2R1Y3Rpb24iPkxvZ2luIFByb2R1Y3Rpb24gQWNjb3VudDwvYT4mbmJzcDsmbmJzcDsmbmJzcDsKICAgICAgICAgICAgPGEgaHJlZj0iL2xvZ2luP2Vudj1zYW5kYm94Ij5Mb2dpbiBTYW5kYm94IEFjY291bnQ8L2E+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvYm9keT4KPC9odG1sPgo=</textarea>
<textarea class="saurus-file" data-file="../views/login.ejs" data-mode="ejs">PCFET0NUWVBFIGh0bWw+CjxodG1sPgogIDxoZWFkPgogICAgPHNjcmlwdD4KICAgICAgdmFyIGF1dGhvcml6ZV91cmkgPSAnPCUtIGF1dGhvcml6ZV91cmkgJT4nCiAgICAgIHZhciByZWRpcmVjdF91cmkgPSAnPCUtIHJlZGlyZWN0X3VyaSAlPicKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgIGF1dGhVcmk6IGF1dGhvcml6ZV91cmksCiAgICAgICAgICByZWRpcmVjdFVyaTogcmVkaXJlY3RfdXJpLAogICAgICB9CiAgICAgIHZhciBPQXV0aENvZGUgPSBmdW5jdGlvbihjb25maWcpIHsKICAgICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnOwogICAgICAgICAgdGhpcy5sb2dpblBvcHVwICA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHRoaXMubG9naW5Qb3B1cFVyaSh0aGlzLmNvbmZpZ1snYXV0aFVyaSddLCB0aGlzLmNvbmZpZ1sncmVkaXJlY3RVcmknXSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvZ2luUG9wdXBVcmkgID0gZnVuY3Rpb24oYXV0aFVyaSwgcmVkaXJlY3RVcmkpIHsKICAgICAgICAgICAgICB2YXIgd2luICAgICAgICAgPSB3aW5kb3cub3BlbihhdXRoVXJpLCAnd2luZG93bmFtZTEnLCAnd2lkdGg9ODAwLCBoZWlnaHQ9NjAwJyk7CiAgICAgICAgICAgICAgdmFyIHBvbGxPQXV0aCAgID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgaWYgKHdpbi5kb2N1bWVudC5VUkwuaW5kZXhPZihyZWRpcmVjdFVyaSkgIT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHBvbGxPQXV0aCk7CiAgICAgICAgICAgICAgICAgICAgICB3aW4uY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gInRlc3QiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgIH0KICAgICAgfQogICAgICB2YXIgb2F1dGggPSBuZXcgT0F1dGhDb2RlKGNvbmZpZyk7CiAgICAgIG9hdXRoLmxvZ2luUG9wdXAoKQogICAgPC9zY3JpcHQ+CiAgPC9oZWFkPgogIDxib2R5Lz4KPC9odG1sPgo=</textarea>
<textarea class="saurus-file" data-file="../views/test.ejs" data-mode="ejs">PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KICAgIDx0aXRsZT5SaW5nQ2VudHJhbCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyBBdXRoZW50aWNhdGlvbjwvdGl0bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGI+PGEgaHJlZj0iL2xvZ291dCI+TG9nb3V0PC9hPjwvYj4KICA8aDI+Q2FsbCBBUElzPC9oMj4KICA8dWw+CiAgICAgIDxsaT48YSBocmVmPSIvdGVzdD9hcGk9ZXh0ZW5zaW9uIj5SZWFkIEV4dGVuc2lvbiBJbmZvPC9hPjwvbGk+CiAgICAgIDxsaT48YSBocmVmPSIvdGVzdD9hcGk9ZXh0ZW5zaW9uLWNhbGwtbG9nIj5SZWFkIEV4dGVuc2lvbiBDYWxsIExvZzwvYT48L2xpPgogICAgICA8bGk+PGEgaHJlZj0iL3Rlc3Q/YXBpPWFjY291bnQtY2FsbC1sb2ciPlJlYWQgQWNjb3VudCBDYWxsIExvZzwvYT48L2xpPgogIDwvdWw+CjwvYm9keT4KPC9odG1sPgo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><div class="saurus-file-actions"><a href="https://github.com/https://github.com/ringcentral-tutorials/authorization-code-flow-oauth-nodejs-demo" target="_blank" class="explorer-get-code"><i class="fa fa-lg fa-github-square"></i>View Code on GitHub</a><a href="https://github.com/https://github.com/ringcentral-tutorials/authorization-code-flow-oauth-nodejs-demo/archive/master.zip" target="_blank" class="explorer-get-code"><i class="fa fa-lg icon-download"></i>Download Source Code</a></div></div></div></div><footer><div class="footer-content"><div class="footer-content-row layout-2-cols"><div class="footer-content-row-left"><div class="footer-logo"><a href="http://www.ringcentral.com"><span>Back to the main site</span></a></div></div><div class="footer-content-row-right"><ul class="footer-text-links"><li><a href="http://www.ringcentral.com/legal.html" target="_blank"><span>Legal</span></a></li><li><a href="http://www.ringcentral.com/security-statement.html" target="_blank"><span>Security Policy</span></a></li><li><a href="http://www.ringcentral.com/legal/privacy-policy.html" target="_blank"><span>Privacy Policy</span></a></li><li><a ng-href="https://devcommunity.ringcentral.com" target="_blank" href="https://devcommunity.ringcentral.com"><span>Community</span></a></li><li><a href="https://medium.com/ringcentral-developers" target="_blank"><span>Blog</span></a></li></ul></div></div><div class="footer-content-row footer-content-row-last layout-2-cols"><div class="footer-content-row-left"><span class="footer-copyright">Â© 1999-<span ng-bind="::main.nowObj|date:'yyyy'" class="footer-copyright-to ng-binding">2017</span> RingCentral, Inc. All rights reserved.</span></div><div class="footer-content-row-right"><div class="footer-image-links"><div class="footer-image-link footer-image-link-facebook"><a target="_blank" href="http://www.facebook.com/ringcentral"><i class="fa icon-facebook"></i></a></div><div class="footer-image-link footer-image-link-twitter"><a target="_blank" href="http://twitter.com/ringcentraldevs"><i class="fa icon-twitter"></i></a></div><div class="footer-image-link footer-image-link-google-plus"><a target="_blank" href="https://www.google.com/+ringcentral"><i class="fa icon-google_plus"></i></a></div><div class="footer-image-link footer-image-link-linkedin"><a target="_blank" href="http://www.linkedin.com/company/ringcentral"><i class="fa icon-linkedin"></i></a></div><div class="footer-image-link footer-image-link-youtube"><a target="_blank" href="http://www.youtube.com/ringcentral"><i class="fa icon-youtube"></i></a></div></div></div></div></div></footer></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script><script>window.tutorialName="RingCentral Authorization Code Flow OAuth - Node JS";</script><script src="viewsaurus.js"></script></body></html>